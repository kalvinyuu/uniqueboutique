(undo-tree-save-format-version . 1)
"fe7318f7ff3f06197062937d385ba76977a7f746"
[nil nil nil nil (26733 32487 258047 0) 0 nil]
([nil nil ((349 . 4911) (#(" } from \"@aws-sdk/client-s3\";

const s3Client = new S3Client({
    region: process.env.AWS_REGION,
});
import { Orders, Product} from \"@/app/types\"
import { format, Order } from \"@/app/zod\"
import { cache } from 'react'

export async function authManage(email:string|null=null, name:string|null=null, authId:string ) {
	await db.insert(users).values({
	    email: email,
	    authId: authId,
	    authName: name
	})
}

export const getAllProducts = cache(async (): Promise<Product[]> => {
    try {
        const results: Product[] = await db.select().from(productCatalouge)
        return results
    } catch (error) {
        console.error('Error fetching products:', error)
        throw new Error('Failed to fetch data')
    }
})


export async function orderStatus(orderID: number) {
    const order = await db.select().from(orders).where(eq(orders.id, orderID))
	const parsedOrder = Order.parse(order)
	return parsedOrder.orderStatus
}

export async function updateOrderStatus(orderID: number) {
    const order = await db.query.orders.findFirst({
	where: eq(orders.id, orderID)
    })
    	const parsedOrder = Order.parse(order)
    if (parsedOrder.orderStatus == \"Your order has been shipped.\" ) {
	await db.update(orders).set({orderStatus: \"Your order has been received.\" })
	    .where(eq(orders.id, orderID))
    }
    else {
	await db.update(orders).set({orderStatus: \"Your order has been shipped.\" })
	    .where(eq(orders.id, orderID))
    }
}

export async function setRole(formData: FormData) {
    const client = await clerkClient()
    if (!checkRole(\"admin\")) {
	return { message: \"Not Authorized\" };
    }  
 try {
    const res = await client.users.updateUser(formData.get('id') as string, {
      publicMetadata: { role: formData.get('role') },
    })
    return { message: res.publicMetadata }
  } catch (err) {
    return { message: err }
  }
}

export async function createProduct(formData: FormData) {
    const info = format.parse({
        name: formData.get('name'),
        price: formData.get(\"price\"),
        imageLocation: formData.get('imageLocation'),
        category: formData.get('category'),
    });
    try {
        const newProduct = await db.insert(productCatalouge).values({
            name: info.name,
            imageLocation: info.imageLocation ,
            price: info.price,
            category: info.category ,
        }).returning({ id: productCatalouge.id });
        return newProduct[0].id;
        await stripe.products.create({
            name: info.name,
        });
        await stripe.prices.create({
            currency: 'gbp',
            unit_amount: Math.round(info.price * 100),
            product_data: {
                name: info.name,
            },
        });
        console.log('Product created successfully!');
    } catch (error) {
        console.error('Error creating product:', error);
    }
}


const allowedFileTypes = [
    \"image/jpeg\",
    \"image/png\",
    \"image/webp\",
    \"image/avif\",

]

const maxFileSize = 1048576 * 10 // 10 MB

export async function uploadImage(formData: FormData) {
    const file = formData.get('file') as File;
    const imageName = formData.get('imageName') as string;
    const imageType = formData.get('imageType') as string;
    const productID = formData.get('productID') as string;
    const imageWidth = formData.get('imageWidth') as string;
    const imageHeight = formData.get('imageHeight') as string;

    if (!file || file.size === 0) {
        return { failure: 'File is missing or empty.' };
    }

    if (!allowedFileTypes.includes(file.type)) {
        return { failure: 'File type not allowed' };
    }

    if (file.size > maxFileSize) {
        return { failure: 'File size too large' };
    }

    try {
        const url = await s3.write(file.name, file);

        const results = await db
            .insert(images).values({
                url: url,
                width: parseInt(imageWidth, 10),
                height: parseInt(imageHeight, 10),
                name: imageName,
                type: imageType,
                productId: productID ? parseInt(productID, 10) : null,
            }).returning()

        if (!results) {
            return { failure: 'Failed to save image details in the database' };
        }

        return { success: { url, id: results[0].id } };
    } catch (error) {
        console.error(error);
        return { failure: 'Upload failed due to a server error.' };
    }
}" 0 3 (fontified t) 3 7 (face font-lock-keyword-face fontified t) 7 8 (fontified t) 8 28 (face font-lock-string-face fontified t) 28 31 (fontified t) 31 36 (face font-lock-keyword-face fontified t) 36 37 (fontified t) 37 45 (face font-lock-variable-name-face fontified t) 45 48 (fontified t) 48 51 (face font-lock-keyword-face fontified t) 51 52 (fontified t) 52 60 (face font-lock-type-face fontified t) 60 61 (fontified t) 61 100 (font-lock-multiline t fontified t) 100 103 (fontified t) 103 109 (face font-lock-keyword-face fontified t) 109 129 (fontified t) 129 133 (face font-lock-keyword-face fontified t) 133 134 (fontified t) 134 147 (face font-lock-string-face fontified t) 147 148 (fontified t) 148 154 (face font-lock-keyword-face fontified t) 154 173 (fontified t) 173 177 (face font-lock-keyword-face fontified t) 177 178 (fontified t) 178 189 (face font-lock-string-face fontified t) 189 190 (fontified t) 190 196 (face font-lock-keyword-face fontified t) 196 207 (fontified t) 207 211 (face font-lock-keyword-face fontified t) 211 212 (fontified t) 212 219 (face font-lock-string-face fontified t) 219 221 (fontified t) 221 227 (face font-lock-keyword-face fontified t) 227 228 (fontified t) 228 233 (face font-lock-keyword-face fontified t) 233 234 (fontified t) 234 242 (face font-lock-keyword-face fontified t) 242 243 (fontified t) 243 253 (face font-lock-function-name-face fontified t) 253 254 (fontified t) 254 259 (face font-lock-variable-name-face fontified t) 259 260 (fontified t) 260 266 (face typescript-primitive-face fontified t) 266 267 (fontified t) 267 271 (face font-lock-constant-face fontified t) 271 272 (fontified t) 272 276 (face font-lock-constant-face fontified t) 276 278 (fontified t) 278 282 (face font-lock-variable-name-face fontified t) 282 283 (fontified t) 283 289 (face typescript-primitive-face fontified t) 289 290 (fontified t) 290 294 (face font-lock-constant-face fontified t) 294 295 (fontified t) 295 299 (face font-lock-constant-face fontified t) 299 301 (fontified t) 301 307 (face font-lock-variable-name-face fontified t) 307 308 (fontified t) 308 314 (face typescript-primitive-face fontified t) 314 317 (fontified t) 317 318 (typescript--pstate ((nil 0 function 583 ("authManage") 766) (nil -2305843009213693952 toplevel nil nil nil)) font-lock-multiline t fontified t) 318 320 (font-lock-multiline t fontified t) 320 325 (font-lock-multiline t face font-lock-keyword-face fontified t) 325 329 (font-lock-multiline t fontified t) 329 335 (face font-lock-function-call-face font-lock-multiline t fontified t) 335 343 (font-lock-multiline t fontified t) 343 349 (face font-lock-function-call-face font-lock-multiline t fontified t) 349 416 (font-lock-multiline t fontified t) 416 417 (typescript--pend (nil 0 function 583 ("authManage") 766) font-lock-multiline t fontified t) 417 419 (fontified t) 419 425 (face font-lock-keyword-face fontified t) 425 426 (fontified t) 426 431 (face font-lock-keyword-face fontified t) 431 432 (fontified t) 432 446 (face font-lock-variable-name-face fontified t) 446 449 (fontified t) 449 454 (face font-lock-function-call-face fontified t) 454 455 (fontified t) 455 460 (face font-lock-keyword-face fontified t) 460 465 (fontified t) 465 472 (face font-lock-type-face fontified t) 472 473 (fontified t) 473 480 (face font-lock-type-face fontified t) 480 484 (fontified t) 484 486 (face font-lock-keyword-face fontified t) 486 487 (fontified t) 487 493 (font-lock-multiline t fontified t) 493 496 (font-lock-multiline t face font-lock-keyword-face fontified t) 496 507 (font-lock-multiline t fontified t) 507 512 (font-lock-multiline t face font-lock-keyword-face fontified t) 512 513 (font-lock-multiline t fontified t) 513 520 (face font-lock-variable-name-face font-lock-multiline t fontified t) 520 522 (font-lock-multiline t fontified t) 522 529 (font-lock-multiline t face font-lock-type-face fontified t) 529 534 (font-lock-multiline t fontified t) 534 539 (font-lock-multiline t face font-lock-keyword-face fontified t) 539 543 (font-lock-multiline t fontified t) 543 549 (face font-lock-function-call-face font-lock-multiline t fontified t) 549 552 (font-lock-multiline t fontified t) 552 556 (font-lock-multiline t face font-lock-function-call-face fontified t) 556 583 (font-lock-multiline t fontified t) 583 589 (font-lock-multiline t face font-lock-keyword-face fontified t) 589 604 (font-lock-multiline t fontified t) 604 609 (font-lock-multiline t face font-lock-keyword-face fontified t) 609 628 (font-lock-multiline t fontified t) 628 635 (face font-lock-type-face font-lock-multiline t fontified t) 635 636 (font-lock-multiline t fontified t) 636 641 (face font-lock-function-call-face font-lock-multiline t fontified t) 641 642 (font-lock-multiline t fontified t) 642 668 (font-lock-multiline t face font-lock-string-face fontified t) 668 685 (font-lock-multiline t fontified t) 685 690 (font-lock-multiline t face font-lock-keyword-face fontified t) 690 691 (font-lock-multiline t fontified t) 691 694 (font-lock-multiline t face font-lock-keyword-face fontified t) 694 695 (font-lock-multiline t fontified t) 695 700 (face font-lock-type-face font-lock-multiline t fontified t) 700 701 (font-lock-multiline t fontified t) 701 723 (font-lock-multiline t face font-lock-string-face fontified t) 723 732 (font-lock-multiline t fontified t) 732 736 (fontified t) 736 742 (face font-lock-keyword-face fontified t) 742 743 (fontified t) 743 748 (face font-lock-keyword-face fontified t) 748 749 (fontified t) 749 757 (face font-lock-keyword-face fontified t) 757 758 (fontified t) 758 769 (face font-lock-function-name-face fontified t) 769 770 (fontified t) 770 777 (face font-lock-variable-name-face fontified t) 777 779 (fontified t) 779 785 (face typescript-primitive-face fontified t) 785 787 (fontified t) 787 788 (typescript--pstate ((nil 0 function 1098 ("orderStatus") 1290) (((nil 0 function 583 ("authManage") 766)) -2305843009213693952 toplevel nil nil nil)) font-lock-multiline t fontified t) 788 793 (font-lock-multiline t fontified t) 793 798 (font-lock-multiline t face font-lock-keyword-face fontified t) 798 799 (font-lock-multiline t fontified t) 799 804 (face font-lock-variable-name-face font-lock-multiline t fontified t) 804 807 (font-lock-multiline t fontified t) 807 812 (font-lock-multiline t face font-lock-keyword-face fontified t) 812 816 (font-lock-multiline t fontified t) 816 822 (face font-lock-function-call-face font-lock-multiline t fontified t) 822 825 (font-lock-multiline t fontified t) 825 829 (font-lock-multiline t face font-lock-function-call-face fontified t) 829 830 (font-lock-multiline t fontified t) 830 836 (face font-lock-variable-name-face font-lock-multiline t fontified t) 836 838 (font-lock-multiline t fontified t) 838 843 (face font-lock-function-call-face font-lock-multiline t fontified t) 843 844 (font-lock-multiline t fontified t) 844 846 (face font-lock-function-call-face font-lock-multiline t fontified t) 846 854 (font-lock-multiline t fontified t) 854 856 (face font-lock-variable-name-face font-lock-multiline t fontified t) 856 858 (font-lock-multiline t fontified t) 858 865 (face font-lock-variable-name-face font-lock-multiline t fontified t) 865 869 (font-lock-multiline t fontified t) 869 874 (font-lock-multiline t face font-lock-keyword-face fontified t) 874 875 (font-lock-multiline t fontified t) 875 886 (face font-lock-variable-name-face font-lock-multiline t fontified t) 886 895 (font-lock-multiline t fontified t) 895 900 (face font-lock-function-call-face font-lock-multiline t fontified t) 900 909 (font-lock-multiline t fontified t) 909 915 (font-lock-multiline t face font-lock-keyword-face fontified t) 915 940 (font-lock-multiline t fontified t) 940 941 (typescript--pend (nil 0 function 1098 ("orderStatus") 1290) font-lock-multiline t fontified t) 941 943 (fontified t) 943 949 (face font-lock-keyword-face fontified t) 949 950 (fontified t) 950 955 (face font-lock-keyword-face fontified t) 955 956 (fontified t) 956 964 (face font-lock-keyword-face fontified t) 964 965 (fontified t) 965 982 (face font-lock-function-name-face fontified t) 982 983 (fontified t) 983 990 (face font-lock-variable-name-face fontified t) 990 992 (fontified t) 992 998 (face typescript-primitive-face fontified t) 998 1000 (fontified t) 1000 1001 (font-lock-multiline t typescript--pstate ((nil 0 function 1305 ("updateOrderStatus") 1806) (((nil 0 function 1098 ("orderStatus") 1290) (nil 0 function 583 ("authManage") 766)) -2305843009213693952 toplevel nil nil nil)) fontified t) 1001 1006 (font-lock-multiline t fontified t) 1006 1011 (font-lock-multiline t face font-lock-keyword-face fontified t) 1011 1012 (font-lock-multiline t fontified t) 1012 1017 (face font-lock-variable-name-face font-lock-multiline t fontified t) 1017 1020 (font-lock-multiline t fontified t) 1020 1025 (font-lock-multiline t face font-lock-keyword-face fontified t) 1025 1042 (font-lock-multiline t fontified t) 1042 1051 (face font-lock-function-call-face font-lock-multiline t fontified t) 1051 1062 (font-lock-multiline t fontified t) 1062 1064 (face font-lock-function-call-face font-lock-multiline t fontified t) 1064 1097 (font-lock-multiline t fontified t) 1097 1102 (font-lock-multiline t face font-lock-keyword-face fontified t) 1102 1103 (font-lock-multiline t fontified t) 1103 1114 (face font-lock-variable-name-face font-lock-multiline t fontified t) 1114 1123 (font-lock-multiline t fontified t) 1123 1128 (face font-lock-function-call-face font-lock-multiline t fontified t) 1128 1140 (font-lock-multiline t fontified t) 1140 1142 (font-lock-multiline t face font-lock-keyword-face fontified t) 1142 1152 (font-lock-multiline t fontified t) 1152 1171 (font-lock-multiline t fontified t) 1171 1201 (font-lock-multiline t face font-lock-string-face fontified t) 1201 1206 (font-lock-multiline t fontified t) 1206 1207 (font-lock-multiline t fontified t) 1207 1212 (font-lock-multiline t face font-lock-keyword-face fontified t) 1212 1216 (font-lock-multiline t fontified t) 1216 1222 (face font-lock-function-call-face font-lock-multiline t fontified t) 1222 1231 (font-lock-multiline t fontified t) 1231 1234 (font-lock-multiline t face font-lock-function-call-face fontified t) 1234 1236 (font-lock-multiline t fontified t) 1236 1247 (face font-lock-variable-name-face font-lock-multiline t fontified t) 1247 1249 (font-lock-multiline t fontified t) 1249 1280 (font-lock-multiline t face font-lock-string-face fontified t) 1280 1290 (font-lock-multiline t fontified t) 1290 1295 (face font-lock-function-call-face font-lock-multiline t fontified t) 1295 1296 (font-lock-multiline t fontified t) 1296 1298 (face font-lock-function-call-face font-lock-multiline t fontified t) 1298 1330 (font-lock-multiline t fontified t) 1330 1334 (font-lock-multiline t face font-lock-keyword-face fontified t) 1334 1338 (font-lock-multiline t fontified t) 1338 1343 (font-lock-multiline t face font-lock-keyword-face fontified t) 1343 1347 (font-lock-multiline t fontified t) 1347 1353 (face font-lock-function-call-face font-lock-multiline t fontified t) 1353 1362 (font-lock-multiline t fontified t) 1362 1365 (font-lock-multiline t face font-lock-function-call-face fontified t) 1365 1367 (font-lock-multiline t fontified t) 1367 1378 (face font-lock-variable-name-face font-lock-multiline t fontified t) 1378 1380 (font-lock-multiline t fontified t) 1380 1410 (font-lock-multiline t face font-lock-string-face fontified t) 1410 1420 (font-lock-multiline t fontified t) 1420 1425 (face font-lock-function-call-face font-lock-multiline t fontified t) 1425 1426 (font-lock-multiline t fontified t) 1426 1428 (face font-lock-function-call-face font-lock-multiline t fontified t) 1428 1456 (font-lock-multiline t fontified t) 1456 1457 (typescript--pend (nil 0 function 1305 ("updateOrderStatus") 1806) font-lock-multiline t fontified t) 1457 1459 (fontified t) 1459 1465 (face font-lock-keyword-face fontified t) 1465 1466 (fontified t) 1466 1471 (face font-lock-keyword-face fontified t) 1471 1472 (fontified t) 1472 1480 (face font-lock-keyword-face fontified t) 1480 1481 (fontified t) 1481 1488 (face font-lock-function-name-face fontified t) 1488 1489 (fontified t) 1489 1497 (face font-lock-variable-name-face fontified t) 1497 1499 (fontified t) 1499 1507 (face font-lock-type-face fontified t) 1507 1509 (fontified t) 1509 1510 (typescript--pstate ((nil 0 function 1821 ("setRole") 2217) (((nil 0 function 1305 ("updateOrderStatus") 1806) (nil 0 function 1098 ("orderStatus") 1290) (nil 0 function 583 ("authManage") 766)) -2305843009213693952 toplevel nil nil nil)) font-lock-multiline t fontified t) 1510 1515 (font-lock-multiline t fontified t) 1515 1520 (font-lock-multiline t face font-lock-keyword-face fontified t) 1520 1521 (font-lock-multiline t fontified t) 1521 1527 (face font-lock-variable-name-face font-lock-multiline t fontified t) 1527 1530 (font-lock-multiline t fontified t) 1530 1535 (font-lock-multiline t face font-lock-keyword-face fontified t) 1535 1536 (font-lock-multiline t fontified t) 1536 1547 (face font-lock-function-call-face font-lock-multiline t fontified t) 1547 1554 (font-lock-multiline t fontified t) 1554 1556 (font-lock-multiline t face font-lock-keyword-face fontified t) 1556 1559 (font-lock-multiline t fontified t) 1559 1568 (face font-lock-function-call-face font-lock-multiline t fontified t) 1568 1569 (font-lock-multiline t fontified t) 1569 1576 (font-lock-multiline t face font-lock-string-face fontified t) 1576 1582 (font-lock-multiline t fontified t) 1582 1588 (font-lock-multiline t face font-lock-keyword-face fontified t) 1588 1600 (font-lock-multiline t fontified t) 1600 1616 (font-lock-multiline t face font-lock-string-face fontified t) 1616 1629 (font-lock-multiline t fontified t) 1629 1632 (font-lock-multiline t face font-lock-keyword-face fontified t) 1632 1639 (font-lock-multiline t fontified t) 1639 1644 (font-lock-multiline t face font-lock-keyword-face fontified t) 1644 1645 (font-lock-multiline t fontified t) 1645 1648 (face font-lock-variable-name-face font-lock-multiline t fontified t) 1648 1651 (font-lock-multiline t fontified t) 1651 1656 (font-lock-multiline t face font-lock-keyword-face fontified t) 1656 1670 (font-lock-multiline t fontified t) 1670 1680 (face font-lock-function-call-face font-lock-multiline t fontified t) 1680 1690 (font-lock-multiline t fontified t) 1690 1693 (font-lock-multiline t face font-lock-function-call-face fontified t) 1693 1694 (font-lock-multiline t fontified t) 1694 1698 (font-lock-multiline t face font-lock-string-face fontified t) 1698 1700 (font-lock-multiline t fontified t) 1700 1702 (font-lock-multiline t face font-lock-keyword-face fontified t) 1702 1703 (font-lock-multiline t fontified t) 1703 1709 (font-lock-multiline t face typescript-primitive-face fontified t) 1709 1752 (font-lock-multiline t fontified t) 1752 1755 (font-lock-multiline t face font-lock-function-call-face fontified t) 1755 1756 (font-lock-multiline t fontified t) 1756 1762 (font-lock-multiline t face font-lock-string-face fontified t) 1762 1778 (font-lock-multiline t fontified t) 1778 1784 (font-lock-multiline t face font-lock-keyword-face fontified t) 1784 1821 (font-lock-multiline t fontified t) 1821 1826 (font-lock-multiline t face font-lock-keyword-face fontified t) 1826 1839 (font-lock-multiline t fontified t) 1839 1845 (font-lock-multiline t face font-lock-keyword-face fontified t) 1845 1867 (font-lock-multiline t fontified t) 1867 1868 (typescript--pend (nil 0 function 1821 ("setRole") 2217) font-lock-multiline t fontified t) 1868 1870 (fontified t) 1870 1876 (face font-lock-keyword-face fontified t) 1876 1877 (fontified t) 1877 1882 (face font-lock-keyword-face fontified t) 1882 1883 (fontified t) 1883 1891 (face font-lock-keyword-face fontified t) 1891 1892 (fontified t) 1892 1905 (face font-lock-function-name-face fontified t) 1905 1906 (fontified t) 1906 1914 (face font-lock-variable-name-face fontified t) 1914 1916 (fontified t) 1916 1924 (face font-lock-type-face fontified t) 1924 1926 (fontified t) 1926 1927 (font-lock-multiline t typescript--pstate ((nil 0 function 2232 ("createProduct") 3228) (((nil 0 function 1821 ("setRole") 2217) (nil 0 function 1305 ("updateOrderStatus") 1806) (nil 0 function 1098 ("orderStatus") 1290) (nil 0 function 583 ("authManage") 766)) -2305843009213693952 toplevel nil nil nil)) fontified t) 1927 1932 (font-lock-multiline t fontified t) 1932 1937 (font-lock-multiline t face font-lock-keyword-face fontified t) 1937 1938 (font-lock-multiline t fontified t) 1938 1942 (face font-lock-variable-name-face font-lock-multiline t fontified t) 1942 1952 (font-lock-multiline t fontified t) 1952 1957 (face font-lock-function-call-face font-lock-multiline t fontified t) 1957 1983 (font-lock-multiline t fontified t) 1983 1986 (font-lock-multiline t face font-lock-function-call-face fontified t) 1986 1987 (font-lock-multiline t fontified t) 1987 1993 (font-lock-multiline t face font-lock-string-face fontified t) 1993 2020 (font-lock-multiline t fontified t) 2020 2023 (font-lock-multiline t face font-lock-function-call-face fontified t) 2023 2024 (font-lock-multiline t fontified t) 2024 2031 (font-lock-multiline t face font-lock-string-face fontified t) 2031 2066 (font-lock-multiline t fontified t) 2066 2069 (font-lock-multiline t face font-lock-function-call-face fontified t) 2069 2070 (font-lock-multiline t fontified t) 2070 2085 (font-lock-multiline t face font-lock-string-face fontified t) 2085 2115 (font-lock-multiline t fontified t) 2115 2118 (font-lock-multiline t face font-lock-function-call-face fontified t) 2118 2119 (font-lock-multiline t fontified t) 2119 2129 (font-lock-multiline t face font-lock-string-face fontified t) 2129 2144 (font-lock-multiline t fontified t) 2144 2147 (font-lock-multiline t face font-lock-keyword-face fontified t) 2147 2158 (font-lock-multiline t fontified t) 2158 2163 (font-lock-multiline t face font-lock-keyword-face fontified t) 2163 2164 (font-lock-multiline t fontified t) 2164 2174 (face font-lock-variable-name-face font-lock-multiline t fontified t) 2174 2177 (font-lock-multiline t fontified t) 2177 2182 (font-lock-multiline t face font-lock-keyword-face fontified t) 2182 2186 (font-lock-multiline t fontified t) 2186 2192 (face font-lock-function-call-face font-lock-multiline t fontified t) 2192 2211 (font-lock-multiline t fontified t) 2211 2217 (face font-lock-function-call-face font-lock-multiline t fontified t) 2217 2377 (font-lock-multiline t fontified t) 2377 2386 (face font-lock-function-call-face font-lock-multiline t fontified t) 2386 2389 (font-lock-multiline t fontified t) 2389 2391 (face font-lock-variable-name-face font-lock-multiline t fontified t) 2391 2425 (font-lock-multiline t fontified t) 2425 2431 (font-lock-multiline t face font-lock-keyword-face fontified t) 2431 2458 (font-lock-multiline t fontified t) 2458 2463 (font-lock-multiline t face font-lock-keyword-face fontified t) 2463 2480 (font-lock-multiline t fontified t) 2480 2486 (face font-lock-function-call-face font-lock-multiline t fontified t) 2486 2538 (font-lock-multiline t fontified t) 2538 2543 (font-lock-multiline t face font-lock-keyword-face fontified t) 2543 2558 (font-lock-multiline t fontified t) 2558 2564 (face font-lock-function-call-face font-lock-multiline t fontified t) 2564 2589 (font-lock-multiline t fontified t) 2589 2594 (font-lock-multiline t face font-lock-string-face fontified t) 2594 2621 (font-lock-multiline t fontified t) 2621 2625 (font-lock-multiline t face font-lock-type-face fontified t) 2625 2626 (font-lock-multiline t fontified t) 2626 2631 (face font-lock-function-call-face font-lock-multiline t fontified t) 2631 2706 (font-lock-multiline t fontified t) 2706 2712 (font-lock-multiline t fontified t) 2712 2747 (font-lock-multiline t fontified t) 2747 2754 (face font-lock-type-face font-lock-multiline t fontified t) 2754 2755 (font-lock-multiline t fontified t) 2755 2758 (face font-lock-function-call-face font-lock-multiline t fontified t) 2758 2759 (font-lock-multiline t fontified t) 2759 2790 (font-lock-multiline t face font-lock-string-face fontified t) 2790 2799 (font-lock-multiline t fontified t) 2799 2804 (font-lock-multiline t face font-lock-keyword-face fontified t) 2804 2823 (font-lock-multiline t fontified t) 2823 2830 (face font-lock-type-face font-lock-multiline t fontified t) 2830 2831 (font-lock-multiline t fontified t) 2831 2836 (face font-lock-function-call-face font-lock-multiline t fontified t) 2836 2837 (font-lock-multiline t fontified t) 2837 2862 (font-lock-multiline t face font-lock-string-face fontified t) 2862 2878 (font-lock-multiline t fontified t) 2878 2879 (typescript--pend (nil 0 function 2232 ("createProduct") 3228) font-lock-multiline t fontified t) 2879 2882 (fontified t) 2882 2887 (face font-lock-keyword-face fontified t) 2887 2888 (fontified t) 2888 2904 (face font-lock-variable-name-face fontified t) 2904 2913 (fontified t) 2913 2925 (face font-lock-string-face fontified t) 2925 2931 (fontified t) 2931 2942 (face font-lock-string-face fontified t) 2942 2948 (fontified t) 2948 2960 (face font-lock-string-face fontified t) 2960 2966 (fontified t) 2966 2978 (face font-lock-string-face fontified t) 2978 2984 (fontified t) 2984 2989 (face font-lock-keyword-face fontified t) 2989 2990 (fontified t) 2990 3001 (face font-lock-variable-name-face fontified t) 3001 3017 (fontified t) 3017 3020 (face font-lock-comment-delimiter-face fontified t) 3020 3026 (face font-lock-comment-face fontified t) 3026 3027 (fontified t) 3027 3033 (face font-lock-keyword-face fontified t) 3033 3034 (fontified t) 3034 3039 (face font-lock-keyword-face fontified t) 3039 3040 (fontified t) 3040 3048 (face font-lock-keyword-face fontified t) 3048 3049 (fontified t) 3049 3060 (face font-lock-function-name-face fontified t) 3060 3061 (fontified t) 3061 3069 (face font-lock-variable-name-face fontified t) 3069 3071 (fontified t) 3071 3079 (face font-lock-type-face fontified t) 3079 3081 (fontified t) 3081 3082 (font-lock-multiline t typescript--pstate ((nil 0 function 3389 ("uploadImage") 4806) (((nil 0 function 2232 ("createProduct") 3228) (nil 0 function 1821 ("setRole") 2217) (nil 0 function 1305 ("updateOrderStatus") 1806) (nil 0 function 1098 ("orderStatus") 1290) (nil 0 function 583 ("authManage") 766)) -2305843009213693952 toplevel nil nil nil)) fontified t) 3082 3087 (font-lock-multiline t fontified t) 3087 3092 (font-lock-multiline t face font-lock-keyword-face fontified t) 3092 3093 (font-lock-multiline t fontified t) 3093 3097 (face font-lock-variable-name-face font-lock-multiline t fontified t) 3097 3109 (font-lock-multiline t fontified t) 3109 3112 (font-lock-multiline t face font-lock-function-call-face fontified t) 3112 3113 (font-lock-multiline t fontified t) 3113 3119 (font-lock-multiline t face font-lock-string-face fontified t) 3119 3121 (font-lock-multiline t fontified t) 3121 3123 (font-lock-multiline t face font-lock-keyword-face fontified t) 3123 3134 (font-lock-multiline t fontified t) 3134 3139 (font-lock-multiline t face font-lock-keyword-face fontified t) 3139 3140 (font-lock-multiline t fontified t) 3140 3149 (face font-lock-variable-name-face font-lock-multiline t fontified t) 3149 3161 (font-lock-multiline t fontified t) 3161 3164 (font-lock-multiline t face font-lock-function-call-face fontified t) 3164 3165 (font-lock-multiline t fontified t) 3165 3176 (font-lock-multiline t face font-lock-string-face fontified t) 3176 3178 (font-lock-multiline t fontified t) 3178 3180 (font-lock-multiline t face font-lock-keyword-face fontified t) 3180 3181 (font-lock-multiline t fontified t) 3181 3187 (font-lock-multiline t face typescript-primitive-face fontified t) 3187 3193 (font-lock-multiline t fontified t) 3193 3198 (font-lock-multiline t face font-lock-keyword-face fontified t) 3198 3199 (font-lock-multiline t fontified t) 3199 3208 (face font-lock-variable-name-face font-lock-multiline t fontified t) 3208 3220 (font-lock-multiline t fontified t) 3220 3223 (font-lock-multiline t face font-lock-function-call-face fontified t) 3223 3224 (font-lock-multiline t fontified t) 3224 3235 (font-lock-multiline t face font-lock-string-face fontified t) 3235 3237 (font-lock-multiline t fontified t) 3237 3239 (font-lock-multiline t face font-lock-keyword-face fontified t) 3239 3240 (font-lock-multiline t fontified t) 3240 3246 (font-lock-multiline t face typescript-primitive-face fontified t) 3246 3252 (font-lock-multiline t fontified t) 3252 3257 (font-lock-multiline t face font-lock-keyword-face fontified t) 3257 3258 (font-lock-multiline t fontified t) 3258 3267 (face font-lock-variable-name-face font-lock-multiline t fontified t) 3267 3279 (font-lock-multiline t fontified t) 3279 3282 (font-lock-multiline t face font-lock-function-call-face fontified t) 3282 3283 (font-lock-multiline t fontified t) 3283 3294 (font-lock-multiline t face font-lock-string-face fontified t) 3294 3296 (font-lock-multiline t fontified t) 3296 3298 (font-lock-multiline t face font-lock-keyword-face fontified t) 3298 3299 (font-lock-multiline t fontified t) 3299 3305 (font-lock-multiline t face typescript-primitive-face fontified t) 3305 3311 (font-lock-multiline t fontified t) 3311 3316 (font-lock-multiline t face font-lock-keyword-face fontified t) 3316 3317 (font-lock-multiline t fontified t) 3317 3327 (face font-lock-variable-name-face font-lock-multiline t fontified t) 3327 3339 (font-lock-multiline t fontified t) 3339 3342 (font-lock-multiline t face font-lock-function-call-face fontified t) 3342 3343 (font-lock-multiline t fontified t) 3343 3355 (font-lock-multiline t face font-lock-string-face fontified t) 3355 3357 (font-lock-multiline t fontified t) 3357 3359 (font-lock-multiline t face font-lock-keyword-face fontified t) 3359 3360 (font-lock-multiline t fontified t) 3360 3366 (font-lock-multiline t face typescript-primitive-face fontified t) 3366 3372 (font-lock-multiline t fontified t) 3372 3377 (font-lock-multiline t face font-lock-keyword-face fontified t) 3377 3378 (font-lock-multiline t fontified t) 3378 3389 (face font-lock-variable-name-face font-lock-multiline t fontified t) 3389 3401 (font-lock-multiline t fontified t) 3401 3404 (font-lock-multiline t face font-lock-function-call-face fontified t) 3404 3405 (font-lock-multiline t fontified t) 3405 3418 (font-lock-multiline t face font-lock-string-face fontified t) 3418 3420 (font-lock-multiline t fontified t) 3420 3422 (font-lock-multiline t face font-lock-keyword-face fontified t) 3422 3423 (font-lock-multiline t fontified t) 3423 3429 (font-lock-multiline t face typescript-primitive-face fontified t) 3429 3436 (font-lock-multiline t fontified t) 3436 3438 (font-lock-multiline t face font-lock-keyword-face fontified t) 3438 3476 (font-lock-multiline t fontified t) 3476 3482 (font-lock-multiline t face font-lock-keyword-face fontified t) 3482 3494 (font-lock-multiline t fontified t) 3494 3521 (font-lock-multiline t face font-lock-string-face fontified t) 3521 3536 (font-lock-multiline t fontified t) 3536 3538 (font-lock-multiline t face font-lock-keyword-face fontified t) 3538 3558 (font-lock-multiline t fontified t) 3558 3566 (face font-lock-function-call-face font-lock-multiline t fontified t) 3566 3572 (font-lock-multiline t fontified t) 3572 3576 (font-lock-multiline t face font-lock-keyword-face fontified t) 3576 3589 (font-lock-multiline t fontified t) 3589 3595 (font-lock-multiline t face font-lock-keyword-face fontified t) 3595 3607 (font-lock-multiline t fontified t) 3607 3630 (font-lock-multiline t face font-lock-string-face fontified t) 3630 3645 (font-lock-multiline t fontified t) 3645 3647 (font-lock-multiline t face font-lock-keyword-face fontified t) 3647 3684 (font-lock-multiline t fontified t) 3684 3690 (font-lock-multiline t face font-lock-keyword-face fontified t) 3690 3702 (font-lock-multiline t fontified t) 3702 3723 (font-lock-multiline t face font-lock-string-face fontified t) 3723 3738 (font-lock-multiline t fontified t) 3738 3741 (font-lock-multiline t face font-lock-keyword-face fontified t) 3741 3752 (font-lock-multiline t fontified t) 3752 3757 (font-lock-multiline t face font-lock-keyword-face fontified t) 3757 3758 (font-lock-multiline t fontified t) 3758 3761 (face font-lock-variable-name-face font-lock-multiline t fontified t) 3761 3764 (font-lock-multiline t fontified t) 3764 3769 (font-lock-multiline t face font-lock-keyword-face fontified t) 3769 3773 (font-lock-multiline t fontified t) 3773 3778 (face font-lock-function-call-face font-lock-multiline t fontified t) 3778 3806 (font-lock-multiline t fontified t) 3806 3811 (font-lock-multiline t face font-lock-keyword-face fontified t) 3811 3812 (font-lock-multiline t fontified t) 3812 3819 (face font-lock-variable-name-face font-lock-multiline t fontified t) 3819 3822 (font-lock-multiline t fontified t) 3822 3827 (font-lock-multiline t face font-lock-keyword-face fontified t) 3827 3844 (font-lock-multiline t fontified t) 3844 3850 (face font-lock-function-call-face font-lock-multiline t fontified t) 3850 3859 (font-lock-multiline t fontified t) 3859 3865 (face font-lock-function-call-face font-lock-multiline t fontified t) 3865 3917 (font-lock-multiline t fontified t) 3917 3925 (face font-lock-function-call-face font-lock-multiline t fontified t) 3925 3967 (font-lock-multiline t fontified t) 3967 3975 (face font-lock-function-call-face font-lock-multiline t fontified t) 3975 4043 (font-lock-multiline t fontified t) 4043 4047 (font-lock-multiline t face default fontified t) 4047 4099 (font-lock-multiline t fontified t) 4099 4107 (face font-lock-function-name-face font-lock-multiline t fontified t) 4107 4125 (font-lock-multiline t fontified t) 4125 4129 (font-lock-multiline t face font-lock-constant-face fontified t) 4129 4146 (font-lock-multiline t fontified t) 4146 4155 (face font-lock-function-call-face font-lock-multiline t fontified t) 4155 4167 (font-lock-multiline t fontified t) 4167 4169 (font-lock-multiline t face font-lock-keyword-face fontified t) 4169 4195 (font-lock-multiline t fontified t) 4195 4201 (font-lock-multiline t face font-lock-keyword-face fontified t) 4201 4212 (font-lock-multiline t fontified t) 4212 4213 (font-lock-multiline t fontified t) 4213 4259 (font-lock-multiline t face font-lock-string-face fontified t) 4259 4263 (font-lock-multiline t fontified t) 4263 4282 (font-lock-multiline t fontified t) 4282 4288 (font-lock-multiline t face font-lock-keyword-face fontified t) 4288 4336 (font-lock-multiline t fontified t) 4336 4341 (font-lock-multiline t face font-lock-keyword-face fontified t) 4341 4360 (font-lock-multiline t fontified t) 4360 4367 (face font-lock-type-face font-lock-multiline t fontified t) 4367 4368 (font-lock-multiline t fontified t) 4368 4373 (face font-lock-function-call-face font-lock-multiline t fontified t) 4373 4390 (font-lock-multiline t fontified t) 4390 4396 (font-lock-multiline t face font-lock-keyword-face fontified t) 4396 4408 (font-lock-multiline t fontified t) 4408 4446 (font-lock-multiline t face font-lock-string-face fontified t) 4446 4456 (font-lock-multiline t fontified t) 4456 4457 (typescript--pend (nil 0 function 3389 ("uploadImage") 4806) font-lock-multiline t fontified t)) . 349) (undo-tree-id47 . -102) (undo-tree-id48 . -3225) (undo-tree-id49 . -3225) (undo-tree-id50 . -172) (undo-tree-id51 . -102) (undo-tree-id52 . -102) (undo-tree-id53 . -598) (undo-tree-id54 . -102) (undo-tree-id55 . -102) (t 26733 28043 268354 197000)) nil (26733 32487 258046 0) 0 nil])
([nil nil ((3419 . 3424) (t 26733 29059 173931 462000)) nil (26733 32487 258039 0) 0 nil])
([nil nil ((3424 . 3425)) nil (26733 32487 258038 0) 0 nil])
([nil nil ((#("i" 0 1 (fontified t)) . -3424) (undo-tree-id46 . -1) 3425) nil (26733 32487 258038 0) 0 nil])
([nil nil ((3425 . 3435) (3424 . 3426) (#("\"" 0 1 (fontified nil)) . -3424) (3424 . 3425)) nil (26733 32487 258036 0) 0 nil])
([nil nil ((3436 . 3437)) nil (26733 32487 258035 0) 0 nil])
([nil nil ((3437 . 3442)) nil (26733 32487 258034 0) 0 nil])
([nil nil ((3442 . 3445)) nil (26733 32487 258034 0) 0 nil])
([nil nil ((#("i" 0 1 (fontified t)) . -3442) (undo-tree-id43 . -1) (#("m" 0 1 (fontified t)) . -3443) (undo-tree-id44 . -1) (#("a" 0 1 (fontified t)) . -3444) (undo-tree-id45 . -1) 3445) nil (26733 32487 258033 0) 0 nil])
([nil nil ((3442 . 3444) (#("'" 0 1 (fontified nil)) . -3442) (3442 . 3443)) nil (26733 32487 258030 0) 0 nil])
([nil nil ((#("'" 0 1 (face font-lock-string-face fontified nil)) . -3442) (undo-tree-id42 . -1) (#("'" 0 1 (face font-lock-string-face fontified t)) . 3443)) nil (26733 32487 258028 0) 0 nil])
([nil nil ((3443 . 3453) (3442 . 3444) (#("\"" 0 1 (fontified nil)) . -3442) (3442 . 3443)) nil (26733 32487 258027 0) 0 nil])
([nil nil ((#("const generateFileName = (bytes = 32) => crypto.randomBytes(bytes).toString(\"hex\")" 0 5 (face font-lock-keyword-face fontified t) 5 6 (fontified t) 6 22 (face font-lock-variable-name-face fontified t) 22 38 (fontified t) 38 40 (face font-lock-keyword-face fontified t) 40 48 (fontified t) 48 59 (face font-lock-function-call-face fontified t) 59 67 (fontified t) 67 75 (face font-lock-function-call-face fontified t) 75 76 (fontified t) 76 81 (face font-lock-string-face fontified t) 81 82 (fontified t)) . 3500) (undo-tree-id41 . -82)) nil (26733 32487 258026 0) 0 nil])
([nil nil ((#("
" 0 1 (fontified t)) . -3499) (undo-tree-id39 . -1) (undo-tree-id40 . -1) 3500) nil (26733 32487 258024 0) 0 nil])
([nil nil ((#("type SignedURLResponse = Promise<
    | { failure?: undefined; success: { url: string; id: number } }
    | { failure: string; success?: undefined }
>" 0 4 (face font-lock-keyword-face fontified t) 4 5 (fontified t) 5 22 (face font-lock-type-face fontified t) 22 52 (fontified t) 52 61 (face font-lock-constant-face fontified t) 61 79 (fontified t) 79 85 (face typescript-primitive-face fontified t) 85 91 (fontified t) 91 97 (face typescript-primitive-face fontified t) 97 119 (fontified t) 119 125 (face typescript-primitive-face fontified t) 125 137 (fontified t) 137 146 (face font-lock-constant-face fontified t) 146 150 (fontified t)) . 3501) (undo-tree-id38 . -150)) nil (26733 32487 258022 0) 0 nil])
([nil nil ((#("
" 0 1 (fontified t)) . -3500) (undo-tree-id36 . -1) (undo-tree-id37 . -1) 3501) nil (26733 32487 258020 0) 0 nil])
([nil nil ((#("
" 0 1 (face font-lock-comment-face fontified t)) . -3498) (undo-tree-id31 . -1) (undo-tree-id32 . -1) (undo-tree-id33 . -1) (#("
" 0 1 (fontified t)) . -3499) (undo-tree-id34 . -1) (undo-tree-id35 . -1) 3500) nil (26733 32487 258018 0) 0 nil])
([nil nil ((#("  checksum,
" 0 2 (font-lock-multiline t fontified t) 2 10 (face font-lock-variable-name-face font-lock-multiline t fontified t) 10 12 (font-lock-multiline t fontified t)) . 3718) (undo-tree-id30 . -12)) nil (26733 32487 258014 0) 0 nil])
([nil nil ((#("    checksum: string" 0 14 (font-lock-multiline t fontified t) 14 20 (font-lock-multiline t face typescript-primitive-face fontified t)) . 3570) (undo-tree-id29 . -20)) nil (26733 32487 258013 0) 0 nil])
([nil nil ((#("
" 0 1 (font-lock-multiline t fontified t)) . -3569) (undo-tree-id27 . -1) (undo-tree-id28 . -1) 3570) nil (26733 32487 258011 0) 0 nil])
([nil nil ((#("
" 0 1 (font-lock-multiline t fontified t)) . -1822) (undo-tree-id26 . -1) 1823) nil (26733 32487 258009 0) 0 nil])
([nil nil ((#("
" 0 1 (font-lock-multiline t fontified t)) . -1451) (undo-tree-id21 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1452) (undo-tree-id22 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1453) (undo-tree-id23 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1454) (undo-tree-id24 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1455) (undo-tree-id25 . -1) 1456) nil (26733 32487 258007 0) 0 nil])
([nil nil ((#("
" 0 1 (font-lock-multiline t fontified t)) . -1811) (undo-tree-id16 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1812) (undo-tree-id17 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1813) (undo-tree-id18 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1814) (undo-tree-id19 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1815) (undo-tree-id20 . -1) 1816) nil (26733 32487 258002 0) 0 nil])
([nil nil ((#("
" 0 1 (font-lock-multiline t fontified t)) . -1681) (undo-tree-id11 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1682) (undo-tree-id12 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1683) (undo-tree-id13 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1684) (undo-tree-id14 . -1) (#(" " 0 1 (font-lock-multiline t fontified t)) . -1685) (undo-tree-id15 . -1) 1686) nil (26733 32487 257997 0) 0 nil])
([nil nil ((#("    ChecksumSHA256: checksum," 0 29 (font-lock-multiline t fontified t)) . 4203) (undo-tree-id10 . -29)) nil (26733 32487 257992 0) 0 nil])
([nil nil ((#("
" 0 1 (font-lock-multiline t fontified t)) . -4202) (undo-tree-id8 . -1) (undo-tree-id9 . -1) 4203) nil (26733 32487 257990 0) 0 nil])
([nil nil ((#("  const fileName = generateFileName();" 0 2 (font-lock-multiline t fontified t) 2 7 (font-lock-multiline t face font-lock-keyword-face fontified t) 7 8 (font-lock-multiline t fontified t) 8 16 (face font-lock-variable-name-face font-lock-multiline t fontified t) 16 19 (font-lock-multiline t fontified t) 19 35 (face font-lock-function-call-face font-lock-multiline t fontified t) 35 38 (font-lock-multiline t fontified t)) . 3996) (undo-tree-id7 . -38)) nil (26733 32487 257988 0) 0 nil])
([nil nil ((#("
" 0 1 (font-lock-multiline t fontified t)) . -3995) (undo-tree-id5 . -1) (undo-tree-id6 . -1) 3996) nil (26733 32487 257987 0) 0 nil])
([nil nil ((#("f" 0 1 (font-lock-multiline t fontified t)) . -4098) (undo-tree-id0 . -1) (#("i" 0 1 (font-lock-multiline t fontified t)) . -4099) (undo-tree-id1 . -1) (#("l" 0 1 (font-lock-multiline t fontified t)) . -4100) (undo-tree-id2 . -1) (#("e" 0 1 (font-lock-multiline t fontified t)) . -4101) (undo-tree-id3 . -1) (#("N" 0 1 (font-lock-multiline t fontified t)) . -4102) (undo-tree-id4 . -1) 4103) nil (26733 32487 257983 0) 0 nil])
([nil current ((4098 . 4102)) nil (26733 32487 257966 0) 0 nil])
nil
